<!DOCTYPE html>
<html>

  <body>
    <div style="display: block; width: 1000px; margin-left: auto; margin-right: auto;">

      <canvas id="canvas_correct"></canvas>
      <canvas id="canvas_others"></canvas>
      <canvas id="canvas_detected"></canvas>
      <canvas id="canvas_falsepositive"></canvas>
      <canvas id="canvas_smart_cables_connection"></canvas>
      <canvas id="canvas_smart_cables_connection_per_appliance"></canvas>

      <canvas id="canvas_correctness_by_meter_washing_machine"></canvas>
      <canvas id="canvas_correctness_by_meter_dishwasher"></canvas>
      <canvas id="canvas_correctness_by_meter_fridge"></canvas>
      <canvas id="canvas_correctness_by_meter_tumble_dryer"></canvas>
    </div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="text/javascript">

      function Color(red, green, blue, alpha) {
        this.red = red;
        this.green = green;
        this.blue = blue; 
        this.alpha = alpha;
        this.toString = () => `rgb(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;
      }

      const blue = new Color(66, 133, 244, 1);
      const yellow = new Color(244, 180, 0, 1);
      const green = new Color(15, 157, 88, 1);
      const purple = new Color(171, 71, 188, 1);
      const red = new Color(219, 68, 55, 1);
      const lightRed = new Color(219, 68, 55, 0.12);

      printCorrectCanvas();
      printOthersCanvas();
      printDetectedCanvas();
      printFalsePositiveCanvas();

      //printSmartCablesConnection();
      //printSmartCablesPerApplianceConnection();

      printCorrectnessByMeterWashingMachine();
      printCorrectnessByMeterDishwasher();
      printCorrectnessByMeterFridge();
      printCorrectnessByMeterTumbleDryer();


/*---------------- KIPs overviews ----------------*/

      function printCorrectCanvas()
      {
        var ctx = document.getElementById('canvas_correct').getContext('2d');
      
        var data =  {
          labels: ['29/04/2020', '06/05/2020', '13/05/2020', '20-05-2020'],
          datasets: [
            {
              label: 'Dishwasher',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [30, 44, 56, 61]
            },
            {
              label: 'Tumble Dryer',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: yellow,
              borderColor: yellow.toString(),
              backgroundColor: yellow.toString(),
              data: [45, 41, 60, 61]
            },
            {
              label: 'Washing Machine',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: green,
              borderColor: green.toString(),
              backgroundColor: green.toString(),
              data: [86, 80, 84, 85]
            },
            {
              label: 'Fridge',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: purple,
              borderColor: purple.toString(),
              backgroundColor: purple.toString(),
              data: [45, 60, 62, 80]
            },
            {
              label: 'Objetive',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Correct Energy',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            labels: {
              fontStyle: 'normal',
              strokeStyle: 'rgb(0, 255, 0)'
            },
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    max: 100
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });

      }

      function printOthersCanvas()
      {
        var ctx = document.getElementById('canvas_others');
      
        var data =  {
          labels: ['29/04/2020', '06/05/2020', '13/05/2020', '20/05/2020'],
          datasets: [
            {
              label: 'Others',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [77, 64, 85, 86]
            },
            {
              label: 'Objetive',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Percentage of days with Others <20%',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    max: 100
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
      }

      function printDetectedCanvas()
      {
        var ctx = document.getElementById('canvas_detected');
      
        var data =  {
          labels: ['29/04/2020', '06/05/2020', '13/05/2020', '20/05/2020'],
          datasets: [
            {
              label: 'Dishwasher',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [45, 64, 69, 60]
            },
            {
              label: 'Tumble Dryer',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: yellow,
              borderColor: yellow.toString(),
              backgroundColor: yellow.toString(),
              data: [49, 44, 45, 45]
            },
            {
              label: 'Washing Machine',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: green,
              borderColor: green.toString(),
              backgroundColor: green.toString(),
              data: [80, 78, 81, 82]
            },
            {
              label: 'Objetive',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Detected Cycles',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    max: 100
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
      }

      function printFalsePositiveCanvas()
      {
        var ctx = document.getElementById('canvas_falsepositive');
      
        var data =  {
          labels: ['29/04/2020', '06/05/2020', '13/05/2020', '20/05/2020'],
          datasets: [
            {
              label: 'Dishwasher',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [2, 21, 16, 7]
            },
            {
              label: 'Tumble Dryer',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: yellow,
              borderColor: yellow.toString(),
              backgroundColor: yellow.toString(),
              data: [4, 4, 5, 6]
            },
            {
              label: 'Washing Machine',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: green,
              borderColor: green.toString(),
              backgroundColor: green.toString(),
              data: [13, 12, 16, 17]
            },
            {
              label: 'Objetive',
              fill: 'end',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [10, 10, 10, 10]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'False Positive Cycles',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    max: 100
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
      }

      function printSmartCablesConnection()
      {
        var ctx = document.getElementById('canvas_smart_cables_connection');

        var data =  {
          labels: ['08/04/2020', '15/04/2020', '22/04/2020', '29/04/2020', '06/05/2020', '13/05/2020'],
          datasets: [
            {
              label: 'Connection',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [43, 66, 93, 91, 94, 94]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Smart Cables Connection',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true 
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
      }

      function printSmartCablesPerApplianceConnection()
      {
        var ctx = document.getElementById('canvas_smart_cables_connection_per_appliance');

        var data =  {
          labels: ['08/04/2020', '15/04/2020', '22/04/2020', '29/04/2020', '06/05/2020', '13/05/2020'],
          datasets: [
            {
              label: 'Dishwasher',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: blue,
              borderColor: blue.toString(),
              backgroundColor: blue.toString(),
              data: [9, 14, 14, 19, 19, 21]
            },
            {
              label: 'Tumble Dryer',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: yellow,
              borderColor: yellow.toString(),
              backgroundColor: yellow.toString(),
              data: [17, 28, 27, 27, 28, 28]
            },
            {
              label: 'Washing Machine',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: green,
              borderColor: green.toString(),
              backgroundColor: green.toString(),
              data: [12, 25, 33, 43, 44, 60]
            },
            {
              label: 'Fridge',
              fill: false,
              pointHoverRadius: 6,
              borderWidth: 2,
              lineTension: 0,
              selected: false,
              color: purple,
              borderColor: purple.toString(),
              backgroundColor: purple.toString(),
              data: [13, 25, 34, 46, 49, 49]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Smart Cables Connection Per Appliance',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
      }


/*---------------- Correctness By Meter Per Appliance ----------------*/


/*
WashingMachine, 237e2cd9-f7c3-4e1e-9607-8545d755ada7, 26.0, 23.0, 88.46153846153845
WashingMachine, 4ec49423-22df-4fe2-bd80-07af918c1bac, 1.0,  1.0,  100.0
WashingMachine, 56d6412c-b5c7-41fa-8e21-9adc83e93f7e, 46.0, 42.0, 91.30434782608695
WashingMachine, 78f9e22e-bd12-4c0d-b724-045d6ed5e4c5, 11.0, 7.0,  63.63636363636363
WashingMachine, c72f03e4-25aa-4044-b7b2-c58b090ba182, 42.0, 36.0, 85.71428571428571
WashingMachine, da77074f-43ff-44b7-8efa-180bcf5d6a53, 18.0, 15.0, 83.33333333333334
WashingMachine, f4a64c6a-33c9-4ca5-9579-a36add57a9e7, 25.0, 25.0, 100.0
WashingMachine, fda4646b-4f9c-4e51-b779-ac916c0b687d, 3.0,  2.0,  66.66666666666666
WashingMachine, fef3cbef-13ec-4b06-b2cd-f9c2cf0c09bb, 17.0, 10.0, 58.82352941176471
*/



      /* Washing Machine */
      function printCorrectnessByMeterWashingMachine()
      {
        var ctx = document.getElementById('canvas_correctness_by_meter_washing_machine');
      
        var data =  {
          labels: ['fef3', '302d', '78f9', 'fda4', 'da77', 'c72f', '237e', '56d6', '8fe1', 'f4a6', '4ec4'],
          datasets: [
            {
              label: 'Percentage Correct Days',
              selected: false,
              barThickness: 'flex',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              barPercentage: 0.8,
              color: blue,
              backgroundColor: blue.toString(),
              data: [30, 50, 50, 66.66, 83.33, 86.84, 89.47, 92.30, 92.30, 94.44, 100]
            },
            {
              label: 'Number of Days',
              selected: false,
              yAxisID: 'y-axis-number-days',
              barPercentage: 0.8,
              color: yellow,
              backgroundColor: yellow.toString(),
              data: [10, 8, 4, 3, 18, 38, 19, 39, 39, 18, 1]
            },
            {
              label: 'Objetive',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              type: 'line',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Washing Machine',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            labels: {
              //fontStyle: 'bolder'
              fontWeight: 500
            },
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [
              {
                ticks: {
                    beginAtZero: true,
                    max: 100
                },
                display: true,
                position: 'left',
                id: 'y-axis-prctg-correct-days-objective'
              },
              {
                ticks: {
                    beginAtZero: true,
                    max: 40
                },
                display: true,
                position: 'right',
                id: 'y-axis-number-days'
              }
            ]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'bar',
          data: data,
          options: options
        });
      }

      /* Dishwasher */
      function printCorrectnessByMeterDishwasher()
      {
        var ctx = document.getElementById('canvas_correctness_by_meter_dishwasher');
      
        var data =  {
          labels: ['bffa', '237e', 'fef3', 'f4a6'],
          datasets: [
            {
              label: 'Percentage Correct Days',
              selected: false,
              barThickness: 'flex',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              barPercentage: 0.8,
              color: blue,
              backgroundColor: blue.toString(),
              data: [34.78, 57.89, 84.61, 87.5]
            },
            {
              label: 'Number of Days',
              selected: false,
              yAxisID: 'y-axis-number-days',
              barPercentage: 0.8,
              color: yellow,
              backgroundColor: yellow.toString(),
              data: [46, 19, 26, 24]
            },
            {
              label: 'Objetive',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              type: 'line',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Dishwasher',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            labels: {
              //fontStyle: 'bolder'
              fontWeight: 500
            },
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [
              {
                ticks: {
                    beginAtZero: true,
                    max: 100
                },
                display: true,
                position: 'left',
                id: 'y-axis-prctg-correct-days-objective'
              },
              {
                ticks: {
                    beginAtZero: true,
                    max: 40
                },
                display: true,
                position: 'right',
                id: 'y-axis-number-days'
              }
            ]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'bar',
          data: data,
          options: options
        });
      }

      function printCorrectnessByMeterFridge()
      {
        var ctx = document.getElementById('canvas_correctness_by_meter_fridge');
      
        var data =  {
          labels: ['fef3', '8fe1', '56d6', '78f9', 'b3e9', '4473', '4ec4', 'f4a6'],
          datasets: [
            {
              label: 'Percentage Correct Days',
              selected: false,
              barThickness: 'flex',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              barPercentage: 0.8,
              color: blue,
              backgroundColor: blue.toString(),
              data: [2.56, 47.36, 68, 78.26, 89.18, 91.30, 100, 100]
            },
            {
              label: 'Number of Days',
              selected: false,
              yAxisID: 'y-axis-number-days',
              barPercentage: 0.8,
              color: yellow,
              backgroundColor: yellow.toString(),
              data: [39, 38, 25, 23, 37, 23, 1, 18]
            },
            {
              label: 'Objetive',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              type: 'line',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80, 80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Fridge',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            labels: {
              //fontStyle: 'bolder'
              fontWeight: 500
            },
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [
              {
                ticks: {
                    beginAtZero: true,
                    max: 100
                },
                display: true,
                position: 'left',
                id: 'y-axis-prctg-correct-days-objective'
              },
              {
                ticks: {
                    beginAtZero: true,
                    max: 40
                },
                display: true,
                position: 'right',
                id: 'y-axis-number-days'
              }
            ]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'bar',
          data: data,
          options: options
        });
      }

      function printCorrectnessByMeterTumbleDryer()
      {
        var ctx = document.getElementById('canvas_correctness_by_meter_tumble_dryer');
      
        var data =  {
          labels: ['b3e9', '237e', 'fef3', '8575'],
          datasets: [
            {
              label: 'Percentage Correct Days',
              selected: false,
              barThickness: 'flex',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              barPercentage: 0.8,
              color: blue,
              backgroundColor: blue.toString(),
              data: [18.91, 40.54, 82.05, 97.5]
            },
            {
              label: 'Number of Days',
              selected: false,
              yAxisID: 'y-axis-number-days',
              barPercentage: 0.8,
              color: yellow,
              backgroundColor: yellow.toString(),
              data: [37, 37, 39, 40]
            },
            {
              label: 'Objetive',
              yAxisID: 'y-axis-prctg-correct-days-objective',
              type: 'line',
              borderWidth: 2,
              lineTension: 0,
              pointHoverRadius: 6,
              selected: false,
              color: red,
              colorBackground: lightRed,
              borderColor: red.toString(),
              backgroundColor: lightRed.toString(),
              data: [80, 80, 80, 80]
            }
          ]
        }

        var options = {
          title: {
              display: true,
              text: 'Tumble Dryer',
              fontSize: 30,
              fontStyle: 'bold',
              fontColor: '#000',
              lineHeight: 3
          },
          legend: {
            position: 'right',
            align: 'start',
            labels: {
              //fontStyle: 'bolder'
              fontWeight: 500
            },
            onClick: function (event, legendItem) {
              onClickLegendItem(event, legendItem, myLineChart)
            },
            onHover: function (event, legendItem) {
              onHoverLegendItem(event, legendItem, myLineChart)
            },
            onLeave: function (event, legendItem) {
              onLeaveLegendItem(event, legendItem, myLineChart)
            }
          },
          scales: {
            yAxes: [
              {
                ticks: {
                    beginAtZero: true,
                    max: 100
                },
                display: true,
                position: 'left',
                id: 'y-axis-prctg-correct-days-objective'
              },
              {
                ticks: {
                    beginAtZero: true,
                    max: 40
                },
                display: true,
                position: 'right',
                id: 'y-axis-number-days'
              }
            ]
          },
          hover: {
						mode: 'point',
						intersect: false,
					}
        };
        
        var myLineChart = new Chart(ctx, {
          type: 'bar',
          data: data,
          options: options
        });
      }


/*---------------- Improvements on Charts behaviours ----------------*/

      function onHoverLegendItem(event, legendItem, chart)
      {
        var index = legendItem.datasetIndex;
        var dataSet = chart.data.datasets[index];
        var ds = chart.getDatasetMeta(index);

        if(dataSet.barPercentage != null)
        {
          dataSet.barPercentage = 1;
        }
        else if(dataSet.borderWidth != null)
        {
          dataSet.borderWidth = 6;
        }

        chart.update();
      }

      function onLeaveLegendItem(event, legendItem, chart)
      {
        var index = legendItem.datasetIndex;
        var dataSet = chart.data.datasets[index];

        if(!dataSet.selected)
        {
          if(dataSet.barPercentage != null)
          {
            dataSet.barPercentage = 0.8;
          }
          else if(dataSet.borderWidth != null)
          {
            dataSet.borderWidth = 2;
          }
        } 

        chart.update();
      }

      function onClickLegendItem(event, legendItem, chart)
      {
        var index = legendItem.datasetIndex;
        var dataSet = chart.getDatasetMeta(index);
        var dataSetSelected = dataSet.controller._config.selected;

        for (let i = 0; i < chart.data.datasets.length; i++) {

          var colorAlpha = 1;
          var colorBackgroundAlpha = 0.12;
          var borderWidth = 2;
          var selected = false;

          var color = chart.data.datasets[i].color;
          var colorBackground = chart.data.datasets[i].colorBackground;

          if(dataSetSelected)
          {
            colorAlpha = 1;
            colorBackgroundAlpha = 0.12;
            borderWidth = 2;
            selected = false;

            //HideTooltipsOfSelectedDataSet(chart, dataSet);
          }
          else
          {
            if(index == i)
            {
              colorAlpha = 1;
              colorBackgroundAlpha = 0.12;
              borderWidth = 6;
              selected = true;

              //ShowTooltipsOfSelectedDataSet(chart, dataSet);
            } 
            else
            {
              colorAlpha = 0.2;
              colorBackgroundAlpha = 0.05;
              borderWidth = 2;
              selected = false;
            }
          }

          chart.data.datasets[i].selected = selected;
          chart.data.datasets[i].borderWidth = borderWidth;

          color.alpha = colorAlpha;
          chart.data.datasets[i].color = color;
          chart.data.datasets[i].borderColor = color.toString();

          if(colorBackground == null)
          {
            chart.data.datasets[i].backgroundColor = color.toString();
          }
          else
          {
            colorBackground.alpha = colorBackgroundAlpha;
            chart.data.datasets[i].colorBackground = colorBackground;
            chart.data.datasets[i].backgroundColor = colorBackground.toString();
          }
        }

        chart.update();
      }

      function ShowTooltipsOfSelectedDataSet(chart, dataSet)
      {
        if(chart.tooltip._active == undefined)
          chart.tooltip._active = [];

        for (let i = 0; i < dataSet.data.length; i++) {

          console.log(dataSet.data[i]);


          chart.tooltip._active.push(dataSet.data[i]);
        }

        chart.tooltip.update(true);
      }

      function HideTooltipsOfSelectedDataSet(chart, dataSet)
      {
        var activeElements = chart.tooltip._active;

        if(chart.tooltip._active == undefined || chart.tooltip._active.length == 0)
        {
          return;
        }

        var requestedElem = chart.getDatasetMeta(datasetIndex).data[pointIndex];
        for(var i = 0; i < activeElements.length; i++) {
            if(requestedElem._index == activeElements[i]._index)  {
                activeElements.splice(i, 1);
                break;
            }
        }
        chart.tooltip._active = activeElements;
        chart.tooltip.update(true);
        chart.draw();
      }

    </script>

  </body>

</html>
